<section [attr.data-theme]="theme" class="{{ theme }}">
  <nav
    class="fixed top-0 left-0 w-full z-50 bg-white border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700"
  >
    <div class="px-3 py-3 lg:px-5 lg:pl-3">
      <div class="flex items-center justify-between relative">
        <div class="flex items-center justify-start rtl:justify-end">
          <button
            type="button"
            class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-sky-300 focus:outline-none focus:ring-2 focus:bg-sky-400-gray-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 hamburger-icon"
            (click)="toggleMenu()"
          >
            <div [ngClass]="{ 'icon-1': true, a: isIcon1Active }"></div>
            <div [ngClass]="{ 'icon-2': true, c: isIcon2Active }"></div>
            <div [ngClass]="{ 'icon-3': true, b: isIcon3Active }"></div>
          </button>
          <div class="flex ms-16 sm:ms-2 md:me-24">
            <img
              src="assets/expense_tracker.png"
              class="h-6 me-3 mt-1"
              alt="Expense Tracker Logo"
            />
            <span
              class="self-center text-xl font-semibold sm:text-2xl whitespace-nowrap text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600 dark:from-cyan-300 dark:to-blue-500"
              >Expense Tracker</span
            >
          </div>
        </div>

        <div class="flex items-center">
          <app-theme-switch></app-theme-switch>
          <div class="flex items-center ms-3 relative">
            <button
              type="button"
              class="flex text-sm bg-gray-800 rounded-full focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
              aria-expanded="false"
              data-dropdown-toggle="dropdown-user"
              (click)="toggleDropdown()"
            >
              <span class="sr-only">Open user menu</span>
              <img
                class="w-8 h-8 rounded-full"
                src="https://flowbite.com/docs/images/people/profile-picture-5.jpg"
                alt="user photo"
              />
            </button>
            <!-- Dropdown menu -->
            <div
              *ngIf="isDropdownOpen"
              class="absolute right-0 top-full mt-2 z-50 w-48 bg-white divide-y divide-gray-100 rounded shadow-lg dark:bg-gray-700 dark:divide-gray-600"
              id="dropdown-user"
            >
              <div class="px-4 py-3">
                <p class="text-sm text-gray-900 dark:text-white">
                  {{ userLoggedIn }}
                </p>
                <p
                  class="text-sm font-medium text-gray-900 truncate dark:text-gray-300"
                >
                  {{ userEmail }}
                </p>
              </div>
              <ul class="py-1">
                <li
                  (click)="navigateToDashboard()"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white"
                >
                  Dashboard
                </li>
                <li
                  (click)="navigateToHistory()"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white"
                >
                  History
                </li>

                <li
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white"
                >
                  Earnings
                </li>
                <li
                  (click)="logOut()"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white"
                >
                  Log Out
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
</section>

<section [attr.data-theme]="theme" class="{{ theme }}">
  <aside
    id="logo-sidebar"
    class="fixed mt-4 top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700"
    aria-label="Sidebar"
  >
    <div class="h-full px-3 pb-4 overflow-y-auto bg-white dark:bg-gray-800">
      <ul class="space-y-2 font-medium">
        <li
          (click)="navigateToDashboard()"
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
        >
          <i
            class="fa fa-chart-pie text-xl text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
          ></i>
          <span class="ms-3">Dashboard</span>
        </li>
        <li
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          (click)="navigateToHistory()"
        >
          <i
            class="fa fa-clock text-xl text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
          ></i>
          <span class="flex-1 ms-3 whitespace-nowrap">History</span>
          <!-- <span
              class="inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-300"
              >Pro</span
            > -->
        </li>
        <li
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          (click)="navigateToEarrnings()"
        >
          <i
            class="fa fa-coins text-xl text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
          ></i>

          <span class="flex-1 ms-3 whitespace-nowrap">Earnnings</span>
          <!-- <span
              class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300"
              >3</span
            > -->
        </li>

        <li
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          (click)="logOut()"
        >
          <i
            class="fas fa-sign-out-alt text-xl text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
          ></i>

          <span class="flex-1 ms-3 whitespace-nowrap">Log Out</span>
        </li>
      </ul>
    </div>
  </aside>
</section>

<div
  class="p-4 sm:ml-64 sm:mt-20"
  [attr.data-theme]="theme"
  class="{{ theme }}"
>
  <router-outlet></router-outlet>
</div>
<!-- <ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  type="timer"
  [color]="theme == 'dark' ? '#7dd3fc' : '#0891b2'"
  ><p [ngClass]="theme == 'dark' ? 'text-sky-300' : 'text-cyan-600'">
    Loading...
  </p></ngx-spinner
> -->
